var contactButtonOpen=document.querySelector(".contacts__button"),contactWindow=document.querySelector(".write-us"),contactButtonClose=contactWindow.querySelector(".close_button"),contactForm=contactWindow.querySelector(".write-us__form"),nameField=contactWindow.querySelector("[name=name]"),emailField=contactWindow.querySelector("[name=email]"),messageField=contactWindow.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactButtonOpen.addEventListener("click",function(e){e.preventDefault(),lastFocusedElement=document.activeElement,contactWindow.classList.add("modal-show"),storageName||storageEmail?(nameField.value=storageName,emailField.value=storageEmail,messageField.focus()):nameField.focus()}),contactButtonClose.addEventListener("click",function(e){e.preventDefault(),contactWindow.classList.remove("modal-show"),contactWindow.classList.remove("modal-error"),lastFocusedElement.focus()}),contactForm.addEventListener("submit",function(e){nameField.value&&emailField.value&&messageField.value?isStorageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",emailField.value)):(e.preventDefault(),contactWindow.classList.remove("modal-error"),contactWindow.offsetWidth=contactWindow.offsetWidth,contactWindow.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),contactWindow.classList.contains("modal-show")&&(contactWindow.classList.remove("modal-show"),contactWindow.classList.remove("modal-error"),lastFocusedElement.focus()))});var lastFocusedElement,mapButtonOpen=document.querySelector(".contacts__map"),mapWindow=document.querySelector(".popup-map"),mapButtonClose=mapWindow.querySelector(".close_button"),modalClose=function(){mapWindow.classList.remove("modal-show"),lastFocusedElement.focus()};mapButtonOpen.addEventListener("click",function(e){e.preventDefault(),lastFocusedElement=document.activeElement,mapWindow.classList.add("modal-show"),mapWindow.focus()}),mapButtonClose.addEventListener("click",function(e){e.preventDefault(),modalClose()}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapWindow.classList.contains("modal-show")&&modalClose())});for(var serviceButtons=document.querySelectorAll(".services__input"),serviceDescriptions=document.querySelectorAll(".services__item"),makeVisible=function(e,t){for(var o=0;o<e.length;o++)e[o].classList.contains(t)?e[o].classList.add("block-show"):e[o].classList.remove("block-show")},btn_click=function(e){e.addEventListener("click",function(){makeVisible(serviceDescriptions,e.id)})},i=0;i<serviceButtons.length;i++)btn_click(serviceButtons[i]);