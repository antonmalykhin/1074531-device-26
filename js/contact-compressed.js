var contactButtonOpen=document.querySelector(".contacts__button"),contactWindow=document.querySelector(".write-us"),contactButtonClose=contactWindow.querySelector(".close_button"),contactForm=contactWindow.querySelector(".write-us__form"),nameField=contactWindow.querySelector("[name=name]"),emailField=contactWindow.querySelector("[name=email]"),messageField=contactWindow.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(err){isStorageSupport=!1}contactButtonOpen.addEventListener("click",function(a){a.preventDefault(),contactWindow.classList.add("modal-show"),storageName||storageEmail?(nameField.value=storageName,emailField.value=storageEmail,messageField.focus()):nameField.focus()}),contactButtonClose.addEventListener("click",function(a){a.preventDefault(),contactWindow.classList.remove("modal-show"),contactWindow.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(a){nameField.value&&emailField.value&&messageField.value?isStorageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",emailField.value)):(a.preventDefault(),contactWindow.classList.remove("modal-error"),contactWindow.offsetWidth=contactWindow.offsetWidth,contactWindow.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),contactWindow.classList.contains("modal-show")&&(contactWindow.classList.remove("modal-show"),contactWindow.classList.remove("modal-error")))});
